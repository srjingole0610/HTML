<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Learn about HTML5 APIs including Geolocation, Drag and Drop, and Web Storage with interactive examples">
    <meta name="keywords" content="HTML5 APIs, Geolocation API, Drag and Drop API, Web Storage API, localStorage, sessionStorage">
    <title>HTML5 APIs Demo - Interactive Guide</title>
    <link rel="icon" type="image/x-icon" href="../images/icons8-html-filetype-48.png">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f2f5;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 40px;
            font-size: 2.5em;
        }

        h2 {
            color: #3498db;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .dragbox {
            width: 100px;
            height: 100px;
            border: 2px solid #333;
            margin: 10px;
            display: inline-block;
            background-color: #3498db;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: move;
            transition: transform 0.2s;
        }

        .dragbox:hover {
            transform: scale(1.05);
        }

        #dropZone {
            width: 200px;
            height: 200px;
            border: 3px dashed #666;
            text-align: center;
            padding: 20px;
            background-color: #f8f9fa;
            transition: background-color 0.3s;
        }

        #dropZone:hover {
            background-color: #e9ecef;
        }

        .section {
            margin: 30px 0;
            padding: 30px;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
        }

        .theory {
            background-color: #e8f4f8;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
            border-left: 4px solid #3498db;
        }

        code {
            background-color: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            color: #e74c3c;
            font-family: 'Courier New', Courier, monospace;
        }

        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #2980b9;
        }

        input[type="text"] {
            padding: 8px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 200px;
        }

        #locationDemo, #localStorageDemo, #sessionStorageDemo {
            margin-top: 15px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }

        .back-link {
            display: inline-block;
            margin: 20px;
            padding: 12px 24px;
            background-color: #2c3e50;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .back-link:hover {
            background-color: #34495e;
        }
    </style>
</head>
<body>
    <a href="../index.html" class="back-link">‚Üê Back to Index</a>
    <h1>HTML5 APIs</h1>

    <div class="section">
        <h2>Geolocation API</h2>
        <div class="theory">
            <h3>Understanding Geolocation API</h3>
            <p>The Geolocation API allows websites to request the user's geographical location. It works through various methods including:</p>
            <ul>
                <li>GPS devices</li>
                <li>Network location via IP address</li>
                <li>Cell tower triangulation</li>
                <li>WiFi access point location</li>
            </ul>
            <p>Key methods include:</p>
            <ul>
                <li><code>getCurrentPosition()</code>: Gets the current location once</li>
                <li><code>watchPosition()</code>: Continuously monitors location</li>
            </ul>
        </div>
        <button onclick="getLocation()">Get My Location</button>
        <p id="locationDemo"></p>
    </div>

    <div class="section">
        <h2>Drag and Drop API</h2>
        <div class="theory">
            <h3>Understanding Drag and Drop API</h3>
            <p>HTML5's Drag and Drop API enables native drag-and-drop functionality. Key events include:</p>
            <ul>
                <li><code>dragstart</code>: When dragging begins</li>
                <li><code>dragover</code>: When dragged element is over drop zone</li>
                <li><code>drop</code>: When element is dropped</li>
                <li><code>dragend</code>: When drag operation ends</li>
            </ul>
            <p>Elements must have the <code>draggable="true"</code> attribute to be draggable.</p>
        </div>
        <div class="dragbox" draggable="true" id="draggable">Drag me!</div>
        <div id="dropZone">Drop Zone</div>
    </div>

    <div class="section">
        <h2>Web Storage API</h2>
        <div class="theory">
            <h3>Understanding Web Storage API</h3>
            <p>Web Storage API provides two mechanisms for storing data:</p>
            <h4>localStorage:</h4>
            <ul>
                <li>Persists data even after browser is closed</li>
                <li>No expiration time</li>
                <li>Storage limit ~5-10MB</li>
                <li>Data is never sent to server</li>
            </ul>
            <h4>sessionStorage:</h4>
            <ul>
                <li>Data persists only for session duration</li>
                <li>Cleared when browser tab is closed</li>
                <li>Separate storage per tab</li>
                <li>Same storage limit as localStorage</li>
            </ul>
        </div>
        <h3>localStorage Demo</h3>
        <input type="text" id="localStorageInput" placeholder="Enter text">
        <button onclick="saveToLocalStorage()">Save to localStorage</button>
        <button onclick="getFromLocalStorage()">Get from localStorage</button>
        <p id="localStorageDemo"></p>

        <h3>sessionStorage Demo</h3>
        <input type="text" id="sessionStorageInput" placeholder="Enter text">
        <button onclick="saveToSessionStorage()">Save to sessionStorage</button>
        <button onclick="getFromSessionStorage()">Get from sessionStorage</button>
        <p id="sessionStorageDemo"></p>
    </div>

    <script>
        // Geolocation API
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    position => {
                        document.getElementById("locationDemo").innerHTML = 
                            "Latitude: " + position.coords.latitude + 
                            "<br>Longitude: " + position.coords.longitude;
                    },
                    error => {
                        document.getElementById("locationDemo").innerHTML = "Error: " + error.message;
                    }
                );
            } else {
                document.getElementById("locationDemo").innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        // Drag and Drop API
        const draggable = document.getElementById("draggable");
        const dropZone = document.getElementById("dropZone");

        draggable.addEventListener("dragstart", (e) => {
            e.dataTransfer.setData("text", e.target.id);
        });

        dropZone.addEventListener("dragover", (e) => {
            e.preventDefault();
        });

        dropZone.addEventListener("drop", (e) => {
            e.preventDefault();
            const data = e.dataTransfer.getData("text");
            dropZone.innerHTML = "Item dropped successfully!";
        });

        // Web Storage API
        function saveToLocalStorage() {
            const input = document.getElementById("localStorageInput").value;
            localStorage.setItem("savedText", input);
            alert("Saved to localStorage!");
        }

        function getFromLocalStorage() {
            const savedText = localStorage.getItem("savedText");
            document.getElementById("localStorageDemo").innerHTML = 
                savedText ? "Retrieved text: " + savedText : "No data found";
        }

        function saveToSessionStorage() {
            const input = document.getElementById("sessionStorageInput").value;
            sessionStorage.setItem("sessionText", input);
            alert("Saved to sessionStorage!");
        }

        function getFromSessionStorage() {
            const savedText = sessionStorage.getItem("sessionText");
            document.getElementById("sessionStorageDemo").innerHTML = 
                savedText ? "Retrieved text: " + savedText : "No data found";
        }
    </script>
</body>
</html>